1
00:00:00,000 --> 00:00:03,540
在这部分，我们会继续了解一些其他的离散概率的工具

2
00:00:03,540 --> 00:00:07,468
我想提醒大家如果你们想在维基百科中

3
00:00:07,468 --> 00:00:11,521
了解更多关于这个工具,
那么链接在这里。所以首先

4
00:00:11,521 --> 00:00:16,446
让我们快速回顾一下之前学到了哪里。
我们说离散概率

5
00:00:16,446 --> 00:00:21,496
总是定义在一个有限的集合上，
我们用U来表示，通常表示为这些，

6
00:00:21,496 --> 00:00:26,671
U将表示所有N位的设置二进制字符串，
通常写为{0, 1}^n

7
00:00:26,671 --> 00:00:31,534
现在的一个概率分布P
在这个集合U上基本上是一个函数，

8
00:00:31,534 --> 00:00:36,834
指定在区域[0,1]区间内的每一个元素，

9
00:00:36,834 --> 00:00:42,196
这样如果我们将所有这些元素的权重求和，
会发现和就会等于1

10
00:00:42,196 --> 00:00:47,210
现在我们说，集合的子集被称为一个事件，

11
00:00:47,210 --> 00:00:52,021
一个事件的概率是事件中所有元素权重的总和，

12
00:00:52,021 --> 00:00:57,073
我们说，事件的概率是在

13
00:00:57,073 --> 00:01:01,764
0到1之间的实数，
并且我想再次提醒大家，

14
00:01:01,764 --> 00:01:06,575
整个全集的概率是全部元素的权重和，等于1

15
00:01:06,575 --> 00:01:11,268
然后我们定义一个正式的随机变量

16
00:01:11,268 --> 00:01:15,908
这个随机变量是一个全集的函数

17
00:01:15,908 --> 00:01:20,773
并且我想提醒你，
这些随机变量在集合V中所代表的含义

18
00:01:20,773 --> 00:01:25,289
事实上，随机变量的分布定义了这个集合V。

19
00:01:25,289 --> 00:01:29,651
所以我们需要学习的下一个概念是什么叫做独立性，
我会非常简要的定义它，

20
00:01:29,651 --> 00:01:34,278
如果你想了解更多关于独立性的内容，
请去看看维基百科

21
00:01:34,278 --> 00:01:38,374
但本质上我们说A和B这两个事件是

22
00:01:38,374 --> 00:01:42,932
彼此独立的，
当你知道事件A发生时，

23
00:01:42,932 --> 00:01:47,377
你并不能知道事件B是否发生。形式上，

24
00:01:47,377 --> 00:01:52,236
我们定义独立性就是说，
A和B同时发生的概率

25
00:01:52,236 --> 00:01:56,621
就等于事件A的概率和事件B的概率的乘积

26
00:01:56,621 --> 00:02:01,539
从某种意义上说，
只要符合这一事实

27
00:02:01,539 --> 00:02:06,339
这些事件就是独立的。
就像我之前说的那样，

28
00:02:06,339 --> 00:02:11,080
如果你想了解更多，请看背景材料。

29
00:02:11,080 --> 00:02:16,636
现在同样的理论可以应用在随机变量上。
假如我们有两个随机

30
00:02:16,636 --> 00:02:21,921
变量X和Y。它们从集合V中取值。
然后我们设这些随机

31
00:02:21,921 --> 00:02:26,868
变量是独立的，如果X=a和Y=b的概率

32
00:02:26,868 --> 00:02:32,492
等于这两个概率的乘积，
基本上就是说，即使

33
00:02:32,492 --> 00:02:37,606
你知道X=a的概率，你也不知道Y的值是多少。

34
00:02:37,606 --> 00:02:43,060
这意味着乘法需要知道所有A和B

35
00:02:43,060 --> 00:02:48,185
在这些随机变量的取值空间，
如果你之前看过的话

36
00:02:48,185 --> 00:02:53,112
再加深一下印象。举个很简单的例子，我们看到这有一个

37
00:02:53,112 --> 00:02:58,171
两比特串的集合，00,01,10,11，

38
00:02:58,171 --> 00:03:03,625
我们从这个集合中随机选取一个。
我们随机选取这四个元素中任一个元素

39
00:03:03,625 --> 00:03:08,431
的概率相等。
现在让我们定义两个随机变量。

40
00:03:08,431 --> 00:03:13,541
X是生成的最低有效位 即lsb(r)，
Y是生成的最高有效位 即msb（r）。

41
00:03:13,541 --> 00:03:18,981
然后我宣布，随机变量X和Y是相互独立的。

42
00:03:18,981 --> 00:03:23,880
从四个元素中无差别选择r的最直观的方法

43
00:03:23,880 --> 00:03:29,440
就和抛两次硬币一样，公平的硬币两次

44
00:03:29,440 --> 00:03:37,051
第一位对应第一次抛的结果

45
00:03:37,051 --> 00:03:38,517
第二位对应第二次抛的结果

46
00:03:38,517 --> 00:03:43,197
当然有四种可能的结果。
所有的四种结果

47
00:03:43,197 --> 00:03:47,821
都等概率出现在这些两比特串中，
现在我们的变量X和Y，

48
00:03:47,821 --> 00:03:52,557
Y是独立的，如果我告诉你抛一次的结果

49
00:03:52,557 --> 00:03:57,181
就是r，就相当于我告诉了你硬币落下来是正面还是反面

50
00:03:57,181 --> 00:04:01,804
而第二次抛的结果什么都没有告诉你

51
00:04:01,804 --> 00:04:06,844
这就是你的直觉，你可能期望这些随机

52
00:04:06,844 --> 00:04:11,624
变量是相互独立的，而实际上我们需要证明它。

53
00:04:11,624 --> 00:04:16,142
所有的0 1对，X=0,Y=0,X=1,Y=1,的概率

54
00:04:16,142 --> 00:04:21,446
这些概率相乘。让我们先做其中的一个。

55
00:04:21,446 --> 00:04:26,721
看一下X=0和Y=0的概率。

56
00:04:26,721 --> 00:04:31,027
你看X=0同时Y=0的概率应该是

57
00:04:31,027 --> 00:04:35,387
r=00的概率，然而r=00的概率是多少？

58
00:04:35,387 --> 00:04:39,535
通过均匀分布，这基本上等于四分之一

59
00:04:39,535 --> 00:04:44,327
在这种情况下集合中的一个元素的概率就是1/4

60
00:04:44,327 --> 00:04:49,095
事实上这些可能的证明

61
00:04:49,095 --> 00:04:53,583
因为再乘上了X=0的概率，即lsb（r=0）的概率

62
00:04:53,583 --> 00:04:57,566
这可能正是二分之一

63
00:04:57,566 --> 00:05:01,941
因为有两个元素他们的lsb等于零

64
00:05:01,941 --> 00:05:06,373
四个元素证明了一半，同样的

65
00:05:06,373 --> 00:05:10,738
Y=0的概率也是二分之一。

66
00:05:10,738 --> 00:05:16,434
而我告诉你独立性这一概念的原因，

67
00:05:16,434 --> 00:05:21,892
是因为我们将要看一个
叫做“异或”重要的性质

68
00:05:21,892 --> 00:05:27,349
我们将重复使用它。
所以在我们讨论异或之前，让我

69
00:05:27,349 --> 00:05:32,408
很快复习一下关于异或是什么。两位异或是指两个

70
00:05:32,408 --> 00:05:38,065
比特相加再模2。确保每个人都在同一页上。

71
00:05:38,065 --> 00:05:43,233
如果我们有两位，00,01,10,11，
他们的真值表

72
00:05:43,233 --> 00:05:48,106
异或就是相加再模2。
正如你所看到的，1+1=2

73
00:05:48,106 --> 00:05:52,978
再模2，就等于0.所以这就是异或的真值表

74
00:05:52,978 --> 00:05:57,665
我们一般用⊕来表示异或，

75
00:05:57,665 --> 00:06:02,353
当我想异或比特串时，
就按位进行相加再模2的操作

76
00:06:02,538 --> 00:06:07,472
例如，这两个字符串异或为110，

77
00:06:07,472 --> 00:06:12,283
我想让你填写剩下异或的结果，
只是为了确保我们都在

78
00:06:12,283 --> 00:06:18,941
同一页上。它的结果为1,1,0,1，
现在，我们

79
00:06:18,941 --> 00:06:23,092
会做在这堂课上做很多异或。
事实上，有一个经典的笑话是

80
00:06:23,092 --> 00:06:27,669
有的人认为译解密码者只是把事物异或在一起，
(一点都不好笑╮(╯▽╰)╭)但我想向你解释

81
00:06:27,669 --> 00:06:31,607
为什么密码学中有这么多异或
基本上，

82
00:06:31,607 --> 00:06:35,865
异或有一个很重要的性质，
这性质是，假设有一个

83
00:06:35,865 --> 00:06:40,630
随机变量Y，任意分布在0,1区间上，
所以我们

84
00:06:40,630 --> 00:06:45,773
对Y的分布一无所知。
但现在，假设我们有一个独立的

85
00:06:45,773 --> 00:06:50,790
随机变量也均匀分布在0,1区间之上，
且X是均匀分布的，这很重要。

86
00:06:50,790 --> 00:06:55,766
n对于Y是独立的。
现在让我们来定义

87
00:06:55,766 --> 00:07:00,851
随机变量X和Y的异或，我认为无论

88
00:07:00,851 --> 00:07:05,937
Y怎么开始分布，
Z总是均匀分布的随机变量。

89
00:07:05,937 --> 00:07:11,287
换句话说，如果拿一个任意不均匀分布

90
00:07:11,287 --> 00:07:16,373
与一个独立均匀分布的随机变量异或
最终得到的将是一个均匀分布的随机变量。

91
00:07:16,373 --> 00:07:20,672
这又是一个很好的性质

92
00:07:20,672 --> 00:07:24,490
对密码学很有用。
所以这是一个需要证明的简单要素

93
00:07:24,490 --> 00:07:28,851
我们只需要去证明它，
我们只需证明一位，n=1.

94
00:07:28,851 --> 00:07:33,472
我们证明它的方式是写出各种

95
00:07:33,472 --> 00:07:38,242
随机变量的概率分布。
所以我们会看到，对于随机变量Y，

96
00:07:38,242 --> 00:07:43,167
随机变量可以是0或1，并且那个P0是Y=0的概率，

97
00:07:43,167 --> 00:07:47,320
P1是Y=1的概率。

98
00:07:47,320 --> 00:07:52,008
这就是我们的一个表格。
同样的，我们会有一个变量X的表格。

99
00:07:52,008 --> 00:07:56,458
变量X的表格就相对容易些，X是一个均匀分布的随机变量。

100
00:07:56,458 --> 00:08:00,909
X=0的概率就是二分之一，
X=1的概率也是二分之一

101
00:08:00,909 --> 00:08:05,428
现在，让我们写出来联合分布概率。

102
00:08:05,428 --> 00:08:09,599
换句话说，让我们先看看那不同的概率，

103
00:08:09,599 --> 00:08:14,099
Y和X是联合分布概率。
即Y为0和X为0。

104
00:08:14,099 --> 00:08:18,435
Y为0和X为1。
Y为1和X为0，还有11

105
00:08:18,435 --> 00:08:22,770
所以我们要做的是，
因为我们假设的变量是独立的，

106
00:08:22,770 --> 00:08:26,518
我们要做的就是把概率相乘。
所以，Y等于0的概率

107
00:08:26,518 --> 00:08:30,552
是P0，X等于0的概率是1/2。

108
00:08:30,552 --> 00:08:36,843
我们得到00是P0/2，同样的

109
00:08:36,843 --> 00:08:42,387
得到01是P0/2，
得到10是P1/2,

110
00:08:42,387 --> 00:08:47,232
得到11是P1/2，
Y=1和X=1的概率

111
00:08:47,232 --> 00:08:52,347
是P1的一半，即P1/2

112
00:08:52,347 --> 00:08:57,664
所以这些就是X和Y各种选择可能性的四个概率。

113
00:08:57,664 --> 00:09:03,182
让我们来分析一下，
Z=0的概率是多少？

114
00:09:03,182 --> 00:09:08,768
Z=基本上具有相同的概率，
让我们这样写，

115
00:09:08,768 --> 00:09:15,342
(X,Y)=(0,0)或(X,Y)=(1,1),
这些都是Z=0可能出现的两种情况。

116
00:09:15,342 --> 00:09:22,652
因为Z是X和Y的异或，
这些事件是不相交的，所以，

117
00:09:22,652 --> 00:09:30,336
这个表达式可以写成上述两个表达式的和。

118
00:09:30,336 --> 00:09:37,271
基本上，这就是XY=00的概率，
再加上XY=11的概率，

119
00:09:37,552 --> 00:09:43,281
所以我们可以简单地在表中找一下这些概率。

120
00:09:43,281 --> 00:09:47,874
所以XY=00的概率是P0/2，

121
00:09:47,874 --> 00:09:53,156
XY=11的概率是P1/2。
所以我们得到

122
00:09:53,156 --> 00:09:58,818
P0/2+P1/2,
但是我们怎么知道P0和P1呢？

123
00:09:58,818 --> 00:10:03,819
这是一个概率分布，
因此，P0+P1＝１。因此，

124
00:10:03,819 --> 00:10:09,482
这个部分一定等于一半，
P0+P1=1。所以，

125
00:10:09,482 --> 00:10:15,292
两个部分的和一定等于一半，
这样就完成了。基本上我们证明了

126
00:10:15,292 --> 00:10:20,143
Z=0的概率是二分之一，然而Z=1的概率

127
00:10:20,143 --> 00:10:25,123
也是二分之一。
因此，Z是一个均匀分布的随机变量

128
00:10:25,123 --> 00:10:29,773
这就是异或在密码学上如此有用的原因之一

129
最后一件事就是关于一个
叫做生日悖论的离散概率问题

130
00:10:34,437 --> 00:10:38,934
在这里我会说很快，
因为我们以后会回来

131
00:10:38,934 --> 00:10:42,931
详细的讨论它。生日悖论就是下面

132
00:10:42,931 --> 00:10:47,370
假设我在区域U中选择n个随机变量，
碰巧的是，

133
00:10:47,370 --> 00:10:51,485
这些变量是相互独立的，
他们其实不必相同。

134
00:10:51,485 --> 00:10:55,651
我们需要假设的是，
他们分布的方式相同。

135
00:10:55,651 --> 00:10:59,818
最重要的性质是他们是相互独立的。
所以定理说，

136
00:10:59,818 --> 00:11:04,035
如果你选择元素U大小的平方根，

137
00:11:04,035 --> 00:11:08,202
这里有一个1.2，
没关系，但如果你选择

138
00:11:08,202 --> 00:11:12,471
元素U绝对值的平方根，
有一个很大的概率会有

139
00:11:12,471 --> 00:11:16,740
两个元素是相同的。
换句话说，如果你把样本

140
00:11:16,740 --> 00:11:21,158
平方根几次，那么很有可能你的两个样本会

141
00:11:21,158 --> 00:11:25,763
相等。顺便指出，这个反向的E

142
00:11:25,947 --> 00:11:30,860
表示存在。所以存在i不等于j并且ri=rj,

143
00:11:30,860 --> 00:11:35,057
这是一个具体的例子，我们会看到很多次。

144
00:11:35,057 --> 00:11:39,493
假设我们的区域由128位长度的字符串构成，

145
00:11:39,493 --> 00:11:44,279
所以U的大小其实是2的128次方，

146
00:11:44,279 --> 00:11:49,123
它非常大，但是碰巧如果你从这个集合中

147
00:11:49,123 --> 00:11:53,909
取样取了2的64次方次，这是关于U的平方根

148
00:11:53,909 --> 00:11:58,520
那么很有可能你的两个样本信息实际上是相同的。

149
00:11:58,520 --> 00:12:02,871
所以为什么这叫做悖论？通常它用来描述

150
00:12:02,871 --> 00:12:06,896
人们的生日，所以你会认为这些样本是

151
00:12:06,896 --> 00:12:11,772
某些人的生日，所以问题是多少人需要在一起以至于

152
00:12:11,772 --> 00:12:16,510
有两个人的生日是相同的？所以，做一个简单的计算，

153
00:12:16,510 --> 00:12:21,349
你会看到一年有365天，你需要大约1.2倍的

154
00:12:21,349 --> 00:12:26,656
的365人的平方根，直到其中

155
00:12:26,656 --> 00:12:31,327
两人生日相同的概率超过一半。
这个如果我没记错的话大概是24，这意味着

156
00:12:31,327 --> 00:12:35,673
如果24个随机的人呆在一间屋子里，
很有可能其中会有两个人

157
00:12:35,673 --> 00:12:40,020
有相同的生日。这就是为什么它被称为一个悖论，因为24

158
00:12:40,020 --> 00:12:44,457
可能是一个比你想象的要小的数字。
有趣的是，人们的

159
00:12:44,457 --> 00:12:50,401
生日其实不是均衡的分布在一年的365天，实际上

160
00:12:50,401 --> 00:12:55,223
更偏向于十二月。但是我认为没有必要

161
00:12:55,223 --> 00:12:59,878
在这里讨论这个。
我想做的最后一件事是给你看

162
00:12:59,878 --> 00:13:04,533
一个更具体的生日悖论。
假设我们有一个大约一百万样本的区域，

163
00:13:04,533 --> 00:13:09,244
那么你可以看到，
当我们的取样大约1200次的时候，

164
00:13:09,247 --> 00:13:14,197
我们有一半的概率在其中两次取样中取到了相同的元素

165
00:13:14,197 --> 00:13:18,498
但是两次抽样相同数的概率其实非常快的收敛到了一。

166
00:13:18,498 --> 00:13:22,857
你可以看到如果我们有2200个样本，然后这些物品中

167
00:13:22,859 --> 00:13:26,790
两个取样相同的概率已经是90%，
你知道，如果是3000的话，

168
00:13:26,790 --> 00:13:30,440
概率基本上是一。
所以一旦取样数超越了U大小的平方根，

169
00:13:30,440 --> 00:13:34,484
这个变化非常快的收敛到一。
所以我们以后会

170
00:13:34,484 --> 00:13:38,380
回来更详细的研究生日悖论，但我现在只想

171
00:13:38,380 --> 00:13:42,597
让你知道它是什么。所以这节就结束了，

172
00:13:42,597 --> 00:13:49,509
在下一节我们将开始加密系统的第一个例子。【END】